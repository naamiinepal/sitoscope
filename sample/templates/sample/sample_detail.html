{% extends 'sample/home.html' %}
{% load sample_extras %}
{% block body %}
<h5 class="text-center">{{ sample }}</h5>
<div class="row">
    <div class="col"></div>
    <div class="col">
        <div class="text-success">
            <hr>
        </div>
    </div>
    <div class="col"></div>
</div>

{% block sample_detail %}
{% endblock %}

{% if perms.sample.add_slide or perms.sample.change_slide %}
    {% if slides %}
        {% for slide in slides %}
        {% if slide.smartphone_images_count == 15 %}
            {% setvar "sample:"|add:sample_type|add:"_slide_image" as smartphone_slide_images_url %}
        {% else %}
            {% setvar "sample:"|add:sample_type|add:"_slide_image_upload" as smartphone_slide_images_url %}
        {% endif %}

        {% if slide.brightfield_images_count == 15 %}
            {% setvar "sample:"|add:sample_type|add:"_slide_image" as brightfield_slide_images_url %}
        {% else %}
            {% setvar "sample:"|add:sample_type|add:"_slide_image_upload" as brightfield_slide_images_url %}
        {% endif %}
        <table class="table mt-2 table-borderless">
            <thead class="table-light">
                <tr>
                    <th scope="col">Slide {{ forloop.counter}}</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr class="text-primary">
                    <td>
                        <a class="link-primary"
                            href="{% url smartphone_slide_images_url sample_id=sample.sample_id slide_number=slide.slide_number image_type='smartphone' %}">Smartphone</a>
                    </td>
                    <td>{{ slide.smartphone_images_count }}/15</td>
                </tr>
                <tr class="text-success">
                    <td>
                        <a href="{% url brightfield_slide_images_url sample_id=sample.sample_id slide_number=slide.slide_number image_type='brightfield' %}"
                            class="link-success">Brightfield</a>
                    </td>
                    <td>{{ slide.brightfield_images_count }}/15</td>
                </tr>
            </tbody>
        </table>
        {% endfor %}
    {% endif %}
{% endif %}
{% endblock %}